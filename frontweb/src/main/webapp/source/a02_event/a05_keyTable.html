<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h2>테이블 셀 동적 이동(순서)</h2>
    <table id="tab01" border="1" width="200" height="200">
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    </table>
    <script>
        // 1.DOM 선택
        //     1) table id 객체 선택
        //     2) td 배열 선택
        //     3) for 문 통해서 각 td안 번호 1~16 입력..

        var tdArr = document.querySelectorAll("#tab01 td")
        // id가 tab01인 테이블 하위에 있는 td만 선택..

        for (var idx = 0; idx < tdArr.length; idx++) {
            tdArr[idx].innerText = idx + 1
        }
        var jdx = 0;

        var senInt = setInterval(function () {
            //0.5초마다 전체 cell의 배경색상을 초기화
            for (var idx = 0; idx < tdArr.length; idx++) {
                tdArr[idx].style.background = ""
            }   // 특정 cell에 대한 배경색상만 노랑색..
            tdArr[jdx++ % 16].style.background = "yellow"
        }, 500)

    </script>

    <h2>테이블 셀 동적 이동(랜덤)</h2>
    <table id="tab02" border="1" width="200" height="200">
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    </table>
    <script>
        // td Dom 배열선언
        var tdArr2 = document.querySelectorAll("#tab02 td")
        // setInterval 1초마다 반복
        var setInt = setInterval(function () {
            for (var idx = 0; idx < tdArr2.length; idx++) {
                tdArr2[idx].style.background = ""
            }
            var rIdx = Math.floor(Math.random() * 16) // 0~15까지 랜덤으로 
            tdArr2[rIdx].style.background = "yellow"
        }, 500)
        // 전체 초기화되고
        // 0~15특정 index랜덤선택
    </script>

    <h2>키 이벤트로 테이블 셀 이동</h2>
    <table id="tab03" border="1" width="200" height="200">
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    </table>
    <script>
        // 1. 돔선언
        // 2. this.onkeyup = function(){} 전체화면에서 key이벤트 발생
        // 3. event.keyCode 37(왼쪽 화살표), 38 위, 39 오른쪽, 40 아래

        var tdArr3 = document.querySelectorAll("#tab03 td")
        for (var idx = 0; idx < tdArr3.length; idx++) {
            tdArr3[idx].innerText = idx
        }
        var chIdx = 0;
        tdArr3[chIdx].style.background = "pink";
        this.onkeyup = function () {
            for (var idx = 0; idx < tdArr3.length; idx++) {
                tdArr3[idx].style.background = ""
            }
            if (event.keyCode == 39) {
                chIdx++;
            }
            if (event.keyCode == 37) {
                chIdx--;
            }
            if (event.keyCode == 38) {
                chIdx -= 4;
            }
            if (event.keyCode == 40) {
                chIdx += 4;
            }
            // 15 16 17
            // 처음 0 => -1, -4
            // -1+16 ==> 15 : 마지막 td이동
            if (chIdx < 0) chIdx += 16 // 0이하의 값을 나오지않게 반복
            tdArr3[chIdx % 16].style.background = "pink";
        }
    </script>

    <h2>테이블 셀 랜덤 이동/클릭이벤트 처리</h2>
    <table id="tab04" border="1" width="200" height="200">
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    </table>

    <script>
        var tdArr4 = document.querySelectorAll("#tab04 td")
        var setInt = setInterval(function () {
            for (var idx = 0; idx < tdArr4.length; idx++) {
                tdArr4[idx].style.background = ""
            }
            var rIdx = Math.floor(Math.random() * 16)
            tdArr4[rIdx].style.background = "green"
        }, 1000)
        var score = 0;
        for (var idx = 0; idx < tdArr4.length; idx++) {
            tdArr4[idx].onclick = function () {
                if (this.style.background === "green") {
                    this.style.background = "";
                    score++;
                }
            }
        }
        var timeOut = setTimeout(function () {
            show();
        }, 10000)
        var show = function () {
            alert(score+'점@@@@')
        }
    </script>
</body>
<script>

</script>

</html>